"use strict";var d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var K=d(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0})});var D=d(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P._fast_remove_single=void 0;function ne(e,t){t!==-1&&(t===0?e.shift():t===e.length-1?e.length=e.length-1:e.splice(t,1))}P._fast_remove_single=ne});var H=d((exports,module)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0;exports.BAKED_EMPTY_FUNC=(function(){});var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var t="";if(e===0)return t;for(var n=0;n<e-1;++n)t+="arg"+String(n)+", ";return t+="arg"+String(e-1),t}function generateBodyPartsCode(e,t){for(var n="",i="",r=0;r<t;++r)n+="var f".concat(r," = collection[").concat(r,`];
`),i+="f".concat(r,"(").concat(e,`)
`);return{funcDefCode:n,funcCallCode:i}}function generateBodyPartsVariadicCode(e){for(var t="",n="",i=0;i<e;++i)t+="var f".concat(i," = collection[").concat(i,`];
`),n+="f".concat(i,`.apply(undefined, arguments)
`);return{funcDefCode:t,funcCallCode:n}}function bakeCollection(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                `).concat(funcCallCode,`
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);collection.length%10===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 10) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                        collection[i+4](`).concat(argsDefCode,`);
                        collection[i+5](`).concat(argsDefCode,`);
                        collection[i+6](`).concat(argsDefCode,`);
                        collection[i+7](`).concat(argsDefCode,`);
                        collection[i+8](`).concat(argsDefCode,`);
                        collection[i+9](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%4===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 4) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%3===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 3) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                    }
                });
            })`):funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; ++i) {
                        collection[i](`).concat(argsDefCode,`);
                    }
                });
            })`)}{var bakeCollection_1=void 0,fixedArgsNum_1=void 0,bakeCollectionVariadic_1=void 0,bakeCollectionAwait_1=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollection=bakeCollection;function bakeCollectionAwait(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                return Promise.all([ `).concat(funcCallCode,` ]);
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=`(function(collection) {
            return (function(`.concat(argsDefCode,`) {
                var promises = Array(collection.length);
                for (var i = 0; i < collection.length; ++i) {
                    promises[i] = collection[i](`).concat(argsDefCode,`);
                }
                return Promise.all(promises);
            });
        })`)}{var bakeCollection_2=void 0,fixedArgsNum_2=void 0,bakeCollectionVariadic_2=void 0,bakeCollectionAwait_2=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionAwait=bakeCollectionAwait;function bakeCollectionVariadic(collection){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function() {
                `).concat(funcCallCode,`
            });
        })`)}else funcFactoryCode=`(function(collection) {
            return (function() {
                for (var i = 0; i < collection.length; ++i) {
                    collection[i].apply(undefined, arguments);
                }
            });
        })`;{var bakeCollection_3=void 0,fixedArgsNum=void 0,bakeCollectionVariadic_3=void 0,bakeCollectionAwait_3=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionVariadic=bakeCollectionVariadic});var R=d(C=>{"use strict";var q=C&&C.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,c;i<r;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(C,"__esModule",{value:!0});C.TaskCollection=void 0;var T=D(),g=H();function ie(e,t){var n=this.length;if(n>1)if(t){var i;(i=this._tasks).push.apply(i,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(t){if(n===1){var r=Array(1+arguments.length);r.push(r),r.push.apply(r,arguments),this._tasks=r}else{var r=Array(arguments.length);r.push.apply(r,arguments),this._tasks=r}this.length+=arguments.length}else n===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++}function re(e,t){var n=this.length;if(n>1)if(t){var i;(i=this._tasks).push.apply(i,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(t){if(n===1){var r=Array(1+arguments.length);r.push(r),r.push.apply(r,arguments),this._tasks=r}else{var r=Array(arguments.length);r.push.apply(r,arguments),this._tasks=r}this.length+=arguments.length}else n===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++;this.firstEmitBuildStrategy?this.call=k:this.rebuild()}function se(e){this.length!==0&&(this.length===1?this._tasks===e&&(this.length=0):((0,T._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function oe(e){if(this.length!==0){if(this.length===1)if(this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy){this.call=g.BAKED_EMPTY_FUNC;return}else{this.rebuild();return}else(0,T._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length;this.firstEmitBuildStrategy?this.call=k:this.rebuild()}}function le(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.length===0?(this._tasks=n,this.length=1):this.length===1?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,q([e,0],n,!1)),this.length=this._tasks.length)}function ce(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.length===0?(this._tasks=n,this.length=1):this.length===1?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,q([e,0],n,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=k:this.rebuild()}function ae(){this.length===0?this.call=g.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,g.bakeCollection)(this._tasks,this.argsNum)}function ue(){this.length===0?this.call=g.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,g.bakeCollectionAwait)(this._tasks,this.argsNum)}function k(){this.rebuild(),this.call.apply(void 0,arguments)}var p=(function(){function e(t,n,i,r){n===void 0&&(n=!0),i===void 0&&(i=null),r===void 0&&(r=!1),this.awaitTasks=r,this.call=g.BAKED_EMPTY_FUNC,this.argsNum=t,this.firstEmitBuildStrategy=!0,r?this.rebuild=ue.bind(this):this.rebuild=ae.bind(this),this.setAutoRebuild(n),i?typeof i=="function"?(this._tasks=i,this.length=1):(this._tasks=i,this.length=i.length):(this._tasks=null,this.length=0),n&&this.rebuild()}return e})();C.TaskCollection=p;function fe(){this._tasks=null,this.length=0,this.call=g.BAKED_EMPTY_FUNC}function he(){this._tasks=null,this.length=0,this.call=g.BAKED_EMPTY_FUNC}function de(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=k:this.rebuild())}function ge(e){e?(this.push=re.bind(this),this.insert=ce.bind(this),this.removeLast=oe.bind(this)):(this.push=ie.bind(this),this.insert=le.bind(this),this.removeLast=se.bind(this))}function ve(){return this.length===0?[]:this.length===1?[this._tasks]:this._tasks}function _e(e){e.length===0?(this.length=0,this.call=g.BAKED_EMPTY_FUNC):e.length===1?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=k:this.rebuild())}p.prototype.fastClear=fe;p.prototype.clear=he;p.prototype.growArgsNum=de;p.prototype.setAutoRebuild=ge;p.prototype.tasksAsArray=ve;p.prototype.setTasks=_e});var U=d(y=>{"use strict";var pe=y&&y.__createBinding||(Object.create?(function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]})),ye=y&&y.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&pe(t,e,n)};Object.defineProperty(y,"__esModule",{value:!0});ye(R(),y)});var Y=d(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.nullObj=void 0;function be(){var e={};return e.__proto__=null,e}w.nullObj=be});var W=d(A=>{"use strict";var b=A&&A.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,c;i<r;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(A,"__esModule",{value:!0});A.EventEmitter=void 0;var F=U(),me=D(),L=Y();function E(e,t,n,i,r,c){var f=this.events[e];if(f){if(f.length===0)return!1;if(f.argsNum<6)f.call(t,n,i,r,c);else{for(var o=new Array(f.argsNum),s=0,_=o.length;s<_;++s)o[s]=arguments[s+1];f.call.apply(void 0,o)}return!0}return!1}function V(e,t,n,i,r,c){var f=this.events[e],o;if(f!==void 0){if(f.length===0)return!1;if(f.argsNum<6)f.call(t,n,i,r,c);else{o=new Array(f.argsNum);for(var s=0,_=o.length;s<_;++s)o[s]=arguments[s+1];f.call.apply(void 0,o)}}var O=this.onceEvents[e];if(O){if(typeof O=="function")if(this.onceEvents[e]=void 0,arguments.length<6)O(t,n,i,r,c);else{if(o===void 0){o=new Array(arguments.length-1);for(var s=0,_=o.length;s<_;++s)o[s]=arguments[s+1]}O.apply(void 0,o)}else{var B=O;if(this.onceEvents[e]=void 0,arguments.length<6)for(var s=0;s<B.length;++s)B[s](t,n,i,r,c);else{if(o===void 0){o=new Array(arguments.length-1);for(var s=0,_=o.length;s<_;++s)o[s]=arguments[s+1]}for(var s=0;s<B.length;++s)B[s].apply(void 0,o)}}return!0}return f!==void 0}var l=(function(){function e(){this.events=(0,L.nullObj)(),this.onceEvents=(0,L.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e})();A.EventEmitter=l;function Ce(e,t){switch(this.emit===E&&(this.emit=V),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,typeof e=="symbol"&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this}function I(e,t,n){if(n===void 0&&(n=t.length),typeof t!="function")throw new TypeError("The listener must be a function");var i=this.events[e];return i?(i.push(t),i.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=i.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new F.TaskCollection(n,!0,t,!1),typeof e=="symbol"&&this._symbolKeys.add(e)),this}function X(e,t){var n=this.events[e];n&&n.removeLast(t);var i=this.onceEvents[e];return i&&(typeof i=="function"?this.onceEvents[e]=void 0:typeof i=="object"&&(i.length===1&&i[0]===t?this.onceEvents[e]=void 0:(0,me._fast_remove_single)(i,i.lastIndexOf(t)))),this}function Ae(e,t,n,i){n===void 0&&(n=this),i===void 0&&(i=t.length),this.boundFuncs||(this.boundFuncs=new Map);var r=t.bind(n);return this.boundFuncs.set(t,r),this.addListener(e,r,i)}function Ee(e,t){var n,i,r=(n=this.boundFuncs)===null||n===void 0?void 0:n.get(t);return(i=this.boundFuncs)===null||i===void 0||i.delete(t),this.removeListener(e,r)}function Oe(e){return this.events[e]&&!!this.events[e].length}function ke(e,t,n){if(n===void 0&&(n=t.length),typeof t!="function")throw new TypeError("The listener must be a function");var i=this.events[e];return!i||!(i instanceof F.TaskCollection)?(i=this.events[e]=new F.TaskCollection(n,!0,t,!1),typeof e=="symbol"&&this._symbolKeys.add(e)):(i.insert(0,t),i.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=i.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))),this}function Be(e,t){this.emit===E&&(this.emit=V);var n=this.onceEvents[e];return n?typeof n!="object"?(this.onceEvents[e]=[t,n],typeof e=="symbol"&&this._symbolKeys.add(e)):(n.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[t],typeof e=="symbol"&&this._symbolKeys.add(e)),this}function Pe(e){return e===void 0?(this.events=(0,L.nullObj)(),this.onceEvents=(0,L.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,typeof e=="symbol"&&this._symbolKeys.delete(e)),this}function we(e){return this.maxListeners=e,this}function Le(){return this.maxListeners}function De(e){return this.emit===E?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?b(b([],this.events[e].tasksAsArray(),!0),typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e]:[]}function Fe(){var e=this;if(this.emit===E){var t=Object.keys(this.events);return b(b([],t,!0),Array.from(this._symbolKeys),!0).filter(function(i){return i in e.events&&e.events[i]&&e.events[i].length})}else{var t=Object.keys(this.events).filter(function(r){return e.events[r]&&e.events[r].length}),n=Object.keys(this.onceEvents).filter(function(r){return e.onceEvents[r]&&e.onceEvents[r].length});return b(b(b([],t,!0),n,!0),Array.from(this._symbolKeys).filter(function(r){return r in e.events&&e.events[r]&&e.events[r].length||r in e.onceEvents&&e.onceEvents[r]&&e.onceEvents[r].length}),!0)}}function je(e){return this.emit===E?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}l.prototype.emit=E;l.prototype.on=I;l.prototype.once=Ce;l.prototype.addListener=I;l.prototype.removeListener=X;l.prototype.addListenerBound=Ae;l.prototype.removeListenerBound=Ee;l.prototype.hasListeners=Oe;l.prototype.prependListener=ke;l.prototype.prependOnceListener=Be;l.prototype.off=X;l.prototype.removeAllListeners=Pe;l.prototype.setMaxListeners=we;l.prototype.getMaxListeners=Le;l.prototype.listeners=De;l.prototype.eventNames=Fe;l.prototype.listenerCount=je});var G=d(v=>{"use strict";var Me=v&&v.__createBinding||(Object.create?(function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]})),z=v&&v.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Me(t,e,n)};Object.defineProperty(v,"__esModule",{value:!0});z(K(),v);z(W(),v)});var J=d(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.badRequest=qe;a.c413=a.c411=a.c405=a.c404=a.c400=void 0;a.checkContentLength=He;a.notFoundConstructor=Ue;a.seeOtherMethods=Re;a.tooLargeBody=Te;var h=j(),Ne=(0,h.toAB)("Method is not allowed"),Se=(0,h.toAB)("Allow"),xe=(0,h.toAB)("content-length"),Ke=(0,h.toAB)("Content-Length is required to be > 0 and to be an integer");function He(e,t){var n=t.getHeader(xe),i;if(!n||!Number.isInteger(i=Number(n)))throw e.finished=!0,e.cork(()=>e.writeStatus(Ye).end(Ke)),new Error("Wrong content-length",{cause:{CL:n}});return i}function qe(e,t,n){throw e.finished=!0,e.aborted||e.cork(()=>e.writeStatus(Ve).end((0,h.toAB)(t))),new Error("Bad request",{cause:n})}function Te(e,t){var n=(0,h.toAB)("Body is too large. Limit in bytes - "+t);e.aborted||e.cork(()=>e.writeStatus(Ie).end(n)),e.finished=!0}function Re(e){if(new Set(e).size!=e.length)throw new Error("the methods repeat");var t=[];e:for(var n of e)switch(n){case"ws":continue e;case"del":t.push("DELETE");break;default:t.push(n.toUpperCase())}var i=(0,h.toAB)(t.join(", "));return r=>r.writeStatus(Xe).writeHeader(Se,i).end(Ne)}function Ue(e="Not found"){var t=(0,h.toAB)(e);return n=>n.writeStatus(We).end(t,!0)}var Ye=a.c411=(0,h.toAB)("411"),Ve=a.c400=(0,h.toAB)("400"),Ie=a.c413=(0,h.toAB)("413"),Xe=a.c405=(0,h.toAB)("405"),We=a.c404=(0,h.toAB)("404")});var Z=d(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.HeadersMap=m.CSPDirs=void 0;m.setCSP=Ge;var Q=j(),ze={"X-Content-Type-Options":"nosniff","X-DNS-Prefetch-Control":"off","X-Frame-Options":"DENY","Referrer-Policy":"same-origin","X-Permitted-Cross-Domain-Policies":"none","X-Download-Options":"noopen","Cross-Origin-Resource-Policy":"same-origin","Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp","Origin-Agent-Cluster":"?1"},M=class e extends Map{currentHeaders;constructor(t){super(),this.currentHeaders=t}remove(...t){for(let n of t)delete this.currentHeaders[n];return this}prepare(){for(let t in this.currentHeaders)this.set((0,Q.toAB)(t),(0,Q.toAB)(this.currentHeaders[t]));return delete this.currentHeaders,t=>{for(var n of this)t.writeHeader(n[0],n[1]);return t}}toRes(t){var n;for(n in this.currentHeaders)t.writeHeader(n,this.currentHeaders[n]);return t}static baseObj=ze;static default(t){var n;for(n in e.baseObj)t.writeHeader(n,e.baseObj[n]);return t}};m.HeadersMap=M;function Ge(e,...t){var n="";for(let r of t)delete e[r];var i;for(i in e)n+=i+" "+e[i].join(" ")+"; ";return n}var ut=m.CSPDirs={"default-src":["'self'"],"base-uri":["'self'"],"font-src":["'self'"],"form-action":["'self'"],"frame-ancestors":["'none'"],"img-src":["'self'"],"connect-src":["'self'"],"object-src":["'none'"],"script-src":["'self'"],"script-src-attr":["'none'"],"script-src-elem":["'self'"],"style-src":["'self'"],"style-src-attr":["'none'"],"style-src-elem":["'self'"],"trusted-types":["'none'"],"worker-src":["'self'"],"media-src":["'self'"]}});var j=d(u=>{Object.defineProperty(u,"__esModule",{value:!0});var ee={registerAbort:!0,closure:!0,extendApp:!0,toAB:!0,DeclarativeResponse:!0};u.closure=u.DeclarativeResponse=void 0;u.extendApp=$e;u.registerAbort=Qe;u.toAB=et;var te=require("uWebSockets.js"),$=require("node:buffer"),Je=G(),N=J();Object.keys(N).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(ee,e)||e in u&&u[e]===N[e]||Object.defineProperty(u,e,{enumerable:!0,get:function(){return N[e]}})});var S=Z();Object.keys(S).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(ee,e)||e in u&&u[e]===S[e]||Object.defineProperty(u,e,{enumerable:!0,get:function(){return S[e]}})});te.DeclarativeResponse.prototype.writeHeaders=function(e){for(let t in e)this.writeHeader(t,e[t]);return this};function Qe(e){if(typeof e.aborted=="boolean")throw new Error("abort already registered");return e.aborted=!1,e.emitter=new Je.EventEmitter,e.onAborted(()=>{e.aborted=!0,e.emitter.emit("abort")})}var Ze=e=>e();u.closure=Ze;function $e(e,...t){e.register=function(n){return n(this),this},e.onError=function(n){return this._errHandler=n,this},e._startPromises=[],e.awaitLater=function(){this._startPromises.push(...arguments)},e.ready=function(){return Promise.all(this._startPromises).then(()=>this._startPromises=[])},e.route=function(n,i){if(i)for(let r of i)r(n,this);return this[n.method](n.path,n.controller)};for(let n of t)Object.assign(e,n);return e}function et(e){var t=e instanceof $.Buffer?e:$.Buffer.from(e);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}var ht=u.DeclarativeResponse=te.DeclarativeResponse});module.exports=j();
